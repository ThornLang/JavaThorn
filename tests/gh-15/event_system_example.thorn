// Test: Event system example from the original issue
class EventEmitter {
    $ init() {
        this.listeners = {};
    }
    
    $ on(event_name: string, handler: Function[void]): void {
        if (this.listeners[event_name] == null) {
            this.listeners[event_name] = [];
        }
        listeners_array = this.listeners[event_name];
        listeners_array.push(handler);
    }
    
    $ emit(event_name: string, data: Any): void {
        listeners_array = this.listeners[event_name];
        if (listeners_array != null) {
            for (handler in listeners_array) {
                handler(data);
            }
        }
    }
}

game_events = EventEmitter();

game_events.on("game_start", $(data) => {
    print("Game started at: " + data["time"]);
});

game_events.emit("game_start", {"time": "10:00 AM"});
game_events.emit("player_score", {"player": "Alice", "points": 150});